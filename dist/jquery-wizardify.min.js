/*! jquery-wizardify 2017-10-29 */

!function(n,t){function e(t){return Object.keys(n.fn.wizardify.events).some(function(e){return n.fn.wizardify.events[e]===t})}var r=0;n.fn.wizardify=function(t){var u=function(){this.find(g.stepSelector).each(function(){l(n(this))})}.bind(this),a=function(){this.find(g.stepSelector).hide()}.bind(this),f=function(n){if(A(O.currentIndex+n))return O.currentIndex+=n;throw new Error("Attepting to increment out of bounds of number of steps")},c=function(){return s(O.currentIndex)},d=function(){return s(O.currentIndex+1)},I=function(){return s(O.currentIndex-1)},l=function(n,t){return void 0===t?t=E.push(n)-1:E.splice(t,0,n),S(t),t},s=function(n){if(A(n))return E[n];throw new Error("index is out of bounds on steps object")},T=function(){return O.currentIndex===E.length-1},A=function(n){return n>=0&&n<E.length},N=function(n){return g.namespace+O.uniqueId+"."+n},S=function(n){defaultTransitionHandler=function(n,t){t()},defaultAnimationInHandler=function(n,t){g.animationIn.call(this,function(){t()})},defaultAnimationOutHandler=function(n,t){g.animationOut.call(this,function(){t()})};var t=this;[i.NEXTSTEPSTARTED,i.BEFORELOADING,i.AFTERLOADING,i.FINISHED,i.FINISHING,i.BACKSTEPSTARTED].map(function(e){t.registerStepEventHandler(n,e,defaultTransitionHandler)}),this.registerStepEventHandler(n,i.ANIMATIONIN,defaultAnimationInHandler),this.registerStepEventHandler(n,i.ANIMATIONOUT,defaultAnimationOutHandler)}.bind(this);this.registerStepEventHandler=function(n,t,r){if(!A(n)||!e(t))throw A(n)?new Error("Invalid event name"):new Error("Invalid index");s(n).off(N(t)),s(n).on(N(t),r.bind(s(n)))},this.start=function(){return c().show(),this};var E=[],g=n.extend({},o,t),O={uniqueId:r++,currentIndex:g.startIndex};return u(),a(),n(g.nextStepButtonSelector).click(function(n){n.preventDefault(),T()?c().triggerHandler(N(i.NEXTSTEPSTARTED),function(){c().triggerHandler(N(i.FINISHING),function(){c().triggerHandler(N(i.ANIMATIONOUT),function(){c().triggerHandler(N(i.FINISHED),function(){})})})}):c().triggerHandler(N(i.NEXTSTEPSTARTED),function(){d().triggerHandler(N(i.BEFORELOADING),function(){c().triggerHandler(N(i.ANIMATIONOUT),function(){d().triggerHandler(N(i.ANIMATIONIN),function(){d().triggerHandler(N(i.AFTERLOADING),function(){f(1)})})})})})}),n(g.backStepButtonSelector).click(function(n){n.preventDefault(),c().triggerHandler(N(i.BACKSTEPSTARTED),function(){c().triggerHandler(N(i.ANIMATIONOUT),function(){I().triggerHandler(N(i.ANIMATIONIN),function(){f(-1)})})})}),this};var i=n.fn.wizardify.events={NEXTSTEPSTARTED:"nextStepStarted",BACKSTEPSTARTED:"backStepStarted",FINISHING:"finishing",FINISHED:"finished",BEFORELOADING:"beforeLoading",AFTERLOADING:"afterLoading",ANIMATIONIN:"animationIn",ANIMATIONOUT:"animationOut"},o=n.fn.wizardify.defaults={stepSelector:"section",startIndex:0,nextStepButtonSelector:".nextButton",backStepButtonSelector:".backButton",namespace:"wizardify",animationIn:n.fn.show,animationOut:n.fn.hide}}(jQuery);