/*! jquery-wizardify 2017-10-29 */

!function(n,t){function e(t){return Object.keys(n.fn.wizardify.events).some(function(e){return n.fn.wizardify.events[e]===t})}var i=0;n.fn.wizardify=function(t){var u=function(){this.find(g.stepSelector).each(function(){s(n(this))})}.bind(this),a=function(){this.find(g.stepSelector).hide()}.bind(this),f=function(n){if(A(h.currentIndex+n))return h.currentIndex+=n;throw new Error("Attepting to increment out of bounds of number of steps")},c=function(){return l(h.currentIndex)},d=function(){return l(h.currentIndex+1)},I=function(){return l(h.currentIndex-1)},s=function(n,t){return void 0===t?t=E.push(n)-1:E.splice(t,0,n),S(t),t},l=function(n){if(A(n))return E[n];throw new Error("index is out of bounds on steps object")},T=function(){return h.currentIndex===E.length-1},A=function(n){return n>=0&&n<E.length},N=function(n){return g.namespace+h.uniqueId+"."+n},S=function(n){defaultTransitionHandler=function(n,t){t()},defaultAnimationInHandler=function(n,t){g.animationIn.call(this,function(){t()})},defaultAnimationOutHandler=function(n,t){g.animationOut.call(this,function(){t()})};var t=this;[r.NEXTSTEPSTARTED,r.BEFORELOADING,r.AFTERLOADING,r.FINISHED,r.FINISHING,r.BACKSTEPSTARTED].map(function(e){t.registerStepEventHandler(n,e,defaultTransitionHandler)}),this.registerStepEventHandler(n,r.ANIMATIONIN,defaultAnimationInHandler),this.registerStepEventHandler(n,r.ANIMATIONOUT,defaultAnimationOutHandler)}.bind(this);this.registerStepEventHandler=function(n,t,i){if(!A(n)||!e(t))throw A(n)?new Error("Invalid event name"):new Error("Invalid index");l(n).off(N(t)),l(n).on(N(t),i.bind(l(n)))},this.start=function(){return c().show(),this};var E=[],g=n.extend({},o,t),h={uniqueId:i++,currentIndex:g.startIndex};return u(),a(),n(g.nextStepButtonSelector).click(function(n){n.preventDefault(),T()?c().triggerHandler(N(r.NEXTSTEPSTARTED),function(){c().triggerHandler(N(r.FINISHING),function(){c().triggerHandler(N(r.ANIMATIONOUT),function(){c().triggerHandler(N(r.FINISHED),function(){})})})}):c().triggerHandler(N(r.NEXTSTEPSTARTED),function(){d().triggerHandler(N(r.BEFORELOADING),function(){c().triggerHandler(N(r.ANIMATIONOUT),function(){d().triggerHandler(N(r.ANIMATIONIN),function(){d().triggerHandler(N(r.AFTERLOADING),function(){f(1)})})})})})}),n(g.backStepButtonSelector).click(function(n){n.preventDefault(),c().triggerHandler(N(r.BACKSTEPSTARTED),function(){c().triggerHandler(N(r.ANIMATIONOUT),function(){I().triggerHandler(N(r.ANIMATIONIN),function(){f(-1)})})})}),this};var r=n.fn.wizardify.events={NEXTSTEPSTARTED:"nextStepStarted",BACKSTEPSTARTED:"backStepStarted",FINISHING:"finishing",FINISHED:"finished",BEFORELOADING:"beforeLoading",AFTERLOADING:"afterLoading",ANIMATIONIN:"animationIn",ANIMATIONOUT:"animationOut"},o=n.fn.wizardify.defaults={stepSelector:"section",startIndex:0,nextStepButtonSelector:".nextButton",backStepButtonSelector:".backButton",namespace:"wizardify",animationIn:function(n){this.show(0,n)},animationOut:function(n){this.hide(0,n)}}}(jQuery);